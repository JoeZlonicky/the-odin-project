<!doctype html>
<html lang="en">
  <head>
    <title>New Song | Music Database</title>
    <link rel="stylesheet" href="/style.css"/>
  </head>
  <body>
    <a href="/view">Index</a> > <a href="/songs/view">All Songs</a>
    <h1>New Song</h1>
    <form action="/songs" method="post">
      <div>
        <label for="name">Name: <input type="text" id="name" name="name" maxlength="255" required></label>
      </div>
      <div>
        <label for="lengthSeconds">Length (seconds): <input type="number" id="lengthSeconds" name="lengthSeconds" min="1" step="1" required></label>
      </div>
      <div>
        <label for="genres">Genre(s):</label>
      </div>
      <div>
        <select name="genreIds" id="genres" multiple>
          <%genres.forEach((genre) => {%>
          <option value="<%=genre.id%>"><%=genre.name%></option>
          <%});%>
        </select> 
      </div>
      <div>
        <label for="artists">Artist(s):</label>
      </div>
      <div>
        <select name="artistIds" id="artists" multiple>
        <%artists.forEach((artist) => {%>
        <%if (defaultArtistId === artist.id) {%>
          <option value="<%=artist.id%>" selected><%=artist.name%></option>
        <%} else {%>
          <option value="<%=artist.id%>"><%=artist.name%></option>
        <%}});%>
        </select>
      </div>
      <div>
        <button type="submit">Create</button>
      </div>
    </form>
  </body>
</html>
