<!doctype html>
<html lang="en">
  <head>
    <title><%=artist.name%> | Music Database</title>
    <link rel="stylesheet" href="/style.css"/>
  </head>
  <body>
    <a href="/view">Index</a> > <a href="/artists/view">All Artists</a> - <a href="/artists/<%=artist.id%>">View Raw</a>
    <h1>Artist: <%=artist.name%></h1>
    <div><b>Name:</b> <%=artist.name%></div>
    <div><b>Genres:</b> 
    <% if (genres.length === 0) {%>
      <span>None</span>
    <%}%>
    <% genres.forEach((genre, idx) => { %>
      <a href="/genres/<%=genre.id%>/view"><%=genre.name%><% if(idx < genres.length - 1) {%>,<%}%></a>
    <%})%>
    </div>

    <div><b>Songs<%if (songs.length === 0) {%></b>: None</div><%} else {%>
      (<%=songs.length%>):</b></div>
    <ul>
      <% songs.forEach((song) => { %>
        <li><a href="/songs/<%=song.id%>/view"><%=song.name%></a></li>
      <%});%>
    </ul>
    <%}%>
    <form action="/songs/viewCreate" method="get">
      <input type="hidden" name="defaultArtistId" value="<%=artist.id%>"/>
      <button type="submit">Add Song</button>
    </form>
    <form action="/artists/<%=artist.id%>/viewUpdate" method="get">
      <button type="submit">Edit Artist</button>
    </form>
    <form action="/artists/<%=artist.id%>?_method=DELETE" method="post">
      <button type="submit">Delete Artist</button>
    </form>
  </body>
</html>
